var e=Object.defineProperty,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,l=(a,n,t)=>n in a?e(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t;import{d as o,l as i,r,H as d,dt as u,c,a as s,du as p,dv as m,ap as b,B as f,k as h,M as v,F as x,I as y,dw as g,dx as j,ch as I,Z as k}from"./index-hPCwy2cU.js";import{P as w}from"./PageWrapper-_w1STvok.js";import{C}from"./index--VM6Akgl.js";import{a as S}from"./index-O8biUKFP.js";import{T as O}from"./index-ei48mbtJ.js";import{S as T}from"./index-Fa6AgMat.js";import{S as P}from"./index-TGC71tPX.js";import"./isMobile-aGnBD7or.js";import"./useMergedState-VhlIxWjY.js";import"./Checkbox-eQOZ5DzF.js";import"./index-GQSaD8dc.js";import"./index-HouOtm8A.js";import"./List-teIXDyNS.js";import"./index-jaExAoBv.js";import"./Group-moBsfik-.js";import"./index-ewp8BvIh.js";import"./CheckOutlined-WBtOhnNS.js";const U=[{label:"单身",value:0},{label:"未婚",value:1},{label:"已婚",value:2},{label:"离异",value:3}],z=o({name:"TableBasic",setup(){const e=i(!1),o=i([]),z=i(0),M=r({current:1,pageSize:10}),B=i(!1),A=r({name:"",phone:"",education:"",hobby:[]}),E=i({}),F=i([]),G={onChange:e=>{}},Q=[{title:"编号",dataIndex:"id",sorter:!0,align:"center"},{title:"姓名",dataIndex:"name",align:"center"},{title:"性别",dataIndex:"sex",align:"center"},{title:"手机",dataIndex:"phone",align:"center"},{title:"学历",dataIndex:"education",align:"center"},{title:"婚姻状况",dataIndex:"married",align:"center"},{title:"禁止编辑",dataIndex:"forbid",align:"center"},{title:"爱好",dataIndex:"hobby",align:"center"},{title:"操作",key:"action",align:"center"}];function $(){return a=this,n=null,t=function*(){e.value=!0;try{const a=yield u(M),{list:n,total:t}=a;o.value=n,z.value=t,e.value=!1}catch(a){e.value=!1}},new Promise(((e,l)=>{var o=e=>{try{r(t.next(e))}catch(a){l(a)}},i=e=>{try{r(t.throw(e))}catch(a){l(a)}},r=a=>a.done?e(a.value):Promise.resolve(a.value).then(o,i);r((t=t.apply(a,n)).next())}));var a,n,t}function D(e,a){M.current=e,M.pageSize=a,$()}function H(){v.confirm({title:"此操作将删除选中数据, 是否继续?",icon:c(j),okText:"确定",cancelText:"取消",onOk(){},onCancel(){}})}function J(){B.value=!1}function K(){B.value=!1}return d((()=>{$()})),()=>c(w,{plugin:g},{default:()=>[c(C,null,{default:()=>[c(O,{rowKey:"id",rowSelection:G,columns:Q,dataSource:s(o),loading:s(e),pagination:{current:M.current,pageSize:M.pageSize,total:s(z),showTotal:()=>`Total ${s(z)} items`,showSizeChanger:!0,showQuickJumper:!0,onChange:D}},{bodyCell:({column:e,record:o})=>{if("name"===e.dataIndex){const e={content:()=>c(k,null,[c("p",null,[h("姓名: "),o.name]),c("p",null,[h("手机: "),o.phone]),c("p",null,[h("爱好: "),o.hobby.join("、")])])};return c(p,null,((e,o)=>{for(var i in o||(o={}))n.call(o,i)&&l(e,i,o[i]);if(a)for(var i of a(o))t.call(o,i)&&l(e,i,o[i]);return e})({default:()=>[c(m,{color:"blue"},{default:()=>[o.name]})]},e))}return"married"===e.dataIndex?c(T,{value:o.married,"onUpdate:value":e=>o.married=e,options:U},null):"hobby"===e.dataIndex?c("span",null,[o.hobby.join("、")]):"forbid"===e.dataIndex?c(P,{checked:o.forbid,"onUpdate:checked":e=>o.forbid=e},null):"action"===e.key?c(b,null,{default:()=>[c(f,{disabled:o.forbid,onClick:()=>function(e){A.name=e.name,A.phone=e.phone,A.education=e.education,A.hobby=e.hobby,E.value=I(e),F.value=I(e.hobby),B.value=!0}(o)},{default:()=>[h("编辑")]}),c(f,{danger:!0,onClick:H},{default:()=>[h("删除")]})]}):void 0}}),c(v,{open:s(B),title:"编辑",width:"600px",okText:"确定",cancelText:"取消",onCancel:K,onOk:J},{default:()=>[c(x,{model:A,colon:!1,labelCol:{span:4},labelAlign:"left",style:{width:"80%",margin:"0 auto"}},{default:()=>[c(x.Item,{label:"姓名",name:"name"},{default:()=>[c(y,{value:A.name,"onUpdate:value":e=>A.name=e,disabled:!0},null)]}),c(x.Item,{label:"手机",name:"phone"},{default:()=>[c(y,{value:A.phone,"onUpdate:value":e=>A.phone=e,placeholder:"请输入手机号码"},null)]}),c(x.Item,{label:"学历",name:"education"},{default:()=>[c(T,{value:A.education,"onUpdate:value":e=>A.education=e,options:["初中","高中","大专","本科"].map((e=>({value:e})))},null)]}),c(x.Item,{label:"爱好",name:"hobby"},{default:()=>[c(S,{value:A.hobby,"onUpdate:value":e=>A.hobby=e,options:s(F).map((e=>({label:e,value:e})))},null)]})]})]})]})]})}});export{z as default};
