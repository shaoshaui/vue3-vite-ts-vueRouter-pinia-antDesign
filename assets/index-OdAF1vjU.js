import{N as e,a3 as a,ah as l,X as n,P as t,a4 as o,d as u,ae as s,af as i,b as r,cH as d,cA as v,e as c,$ as p,J as m,H as b,dz as f,l as h,c_ as g,f as x,c as C,_ as k,Y as y,cz as O}from"./index-uhPhvMRI.js";import{V as S}from"./Checkbox-og2vZ6-c.js";import{u as w}from"./index-yGiZe0r7.js";const M=Symbol("CheckboxGroupContext");var V=function(e,a){var l={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(l[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)a.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(l[n[t]]=e[n[t]])}return l};const $=u({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:e(e({},{prefixCls:String,defaultChecked:n(),checked:n(),disabled:n(),isGroup:n(),value:t.any,name:String,id:String,indeterminate:n(),type:o("checkbox"),autofocus:n(),onChange:l(),"onUpdate:checked":l(),onClick:l(),skipGroup:n(!1)}),{indeterminate:n(!1)}),setup(a,l){let{emit:n,attrs:t,slots:o,expose:u}=l;const y=s(),O=i.useInject(),{prefixCls:$,direction:G,disabled:I}=r("checkbox",a),j=d(),[A,_]=w($),E=v(M,void 0),F=Symbol("checkboxUniId"),P=c((()=>(null==E?void 0:E.disabled.value)||I.value));p((()=>{!a.skipGroup&&E&&E.registerValue(F,a.value)})),m((()=>{E&&E.cancelValue(F)})),b((()=>{f(!(void 0===a.checked&&!E&&void 0!==a.value))}));const H=e=>{const a=e.target.checked;n("update:checked",a),n("change",e),y.onFieldChange()},U=h();return u({focus:()=>{var e;null===(e=U.value)||void 0===e||e.focus()},blur:()=>{var e;null===(e=U.value)||void 0===e||e.blur()}}),()=>{var l;const u=g(null===(l=o.default)||void 0===l?void 0:l.call(o)),{indeterminate:s,skipGroup:i,id:r=y.id.value}=a,d=V(a,["indeterminate","skipGroup","id"]),{onMouseenter:v,onMouseleave:c,onInput:p,class:m,style:b}=t,f=V(t,["onMouseenter","onMouseleave","onInput","class","style"]),h=e(e(e(e({},d),{id:r,prefixCls:$.value}),f),{disabled:P.value});E&&!i?(h.onChange=function(){for(var e=arguments.length,l=new Array(e),t=0;t<e;t++)l[t]=arguments[t];n("change",...l),E.toggleOption({label:u,value:a.value})},h.name=E.name.value,h.checked=E.mergedValue.value.includes(a.value),h.disabled=P.value||j.value,h.indeterminate=s):h.onChange=H;const w=x({[`${$.value}-wrapper`]:!0,[`${$.value}-rtl`]:"rtl"===G.value,[`${$.value}-wrapper-checked`]:h.checked,[`${$.value}-wrapper-disabled`]:h.disabled,[`${$.value}-wrapper-in-form-item`]:O.isFormItemInput},m,_.value),M=x({[`${$.value}-indeterminate`]:s},_.value);return A(C("label",{class:w,style:b,onMouseenter:v,onMouseleave:c},[C(S,k(k({"aria-checked":s?"mixed":void 0},h),{},{class:M,ref:U}),null),u.length?C("span",null,[u]):null]))}}}),G=u({compatConfig:{MODE:3},name:"ACheckboxGroup",inheritAttrs:!1,props:e(e({},{name:String,prefixCls:String,options:a([]),disabled:Boolean,id:String}),{defaultValue:a(),value:a(),onChange:l(),"onUpdate:value":l()}),setup(e,a){let{slots:l,attrs:n,emit:t,expose:o}=a;const u=s(),{prefixCls:i,direction:d}=r("checkbox",e),v=c((()=>`${i.value}-group`)),[p,m]=w(v),b=h((void 0===e.value?e.defaultValue:e.value)||[]);y((()=>e.value),(()=>{b.value=e.value||[]}));const f=c((()=>e.options.map((e=>"string"==typeof e||"number"==typeof e?{label:e,value:e}:e)))),g=h(Symbol()),x=h(new Map),S=h(new Map);y(g,(()=>{const e=new Map;for(const a of x.value.values())e.set(a,!0);S.value=e}));return O(M,{cancelValue:e=>{x.value.delete(e),g.value=Symbol()},registerValue:(e,a)=>{x.value.set(e,a),g.value=Symbol()},toggleOption:a=>{const l=b.value.indexOf(a.value),n=[...b.value];-1===l?n.push(a.value):n.splice(l,1),void 0===e.value&&(b.value=n);const o=n.filter((e=>S.value.has(e))).sort(((e,a)=>f.value.findIndex((a=>a.value===e))-f.value.findIndex((e=>e.value===a))));t("update:value",o),t("change",o),u.onFieldChange()},mergedValue:b,name:c((()=>e.name)),disabled:c((()=>e.disabled))}),o({mergedValue:b}),()=>{var a;const{id:t=u.id.value}=e;let o=null;return f.value&&f.value.length>0&&(o=f.value.map((a=>{var n;return C($,{prefixCls:i.value,key:a.value.toString(),disabled:"disabled"in a?a.disabled:e.disabled,indeterminate:a.indeterminate,value:a.value,checked:-1!==b.value.indexOf(a.value),onChange:a.onChange,class:`${v.value}-item`},{default:()=>[void 0!==l.label?null===(n=l.label)||void 0===n?void 0:n.call(l,a):a.label]})}))),p(C("div",k(k({},n),{},{class:[v.value,{[`${v.value}-rtl`]:"rtl"===d.value},n.class,m.value],id:t}),[o||(null===(a=l.default)||void 0===a?void 0:a.call(l))]))}}});$.Group=G,$.install=function(e){return e.component($.name,$),e.component(G.name,G),e};export{$ as C,G as a};
