function t(t){const n=t.split(","),e=n[0].match(/:(.*?);/)[1],o=window.atob(n[1]);let i=o.length;const r=new Uint8Array(i);for(;i--;)r[i]=o.charCodeAt(i);return new Blob([r],{type:e})}function n(t){return new Promise(((n,e)=>{const o=new Image;o.onload=function(){n({width:o.width,height:o.height})},o.onerror=function(){e()},o.src=t}))}function e(t,n){return new Promise(((e,o)=>{const{width:i,height:r,quality:c,mimeType:a}=n;let s=document.createElement("CANVAS");const h=s.getContext("2d"),u=new Image;u.crossOrigin="",u.onload=function(){if(!s||!h)return o();s.width=i,s.height=r,h.drawImage(u,0,0,i,r);const t=s.toDataURL(a||"image/png",c);s=null,e(t)},u.src=t}))}function o(t,n,e,o){let[i,r,c]=[0,0,0];if(t>n)if(t>=e){const a=n*(e/t);a>=e?(i=t*(o/n),r=o,c=n/o):(i=e,r=a,c=t/e)}else i=t,r=n,c=1;else n>=o?(i=t*(o/n),r=o,c=n/o):(i=t,r=n,c=1);return{width:i,height:r,ratio:c}}export{o as a,t as b,e as c,n as g};
