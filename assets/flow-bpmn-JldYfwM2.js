var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n;import{P as o}from"./PageWrapper-w2337QV-.js";import{d as p,H as i,c as u,k as d,l as c,as as m}from"./index-A-ZQTZn8.js";import{a as v,L as f,B as y,C as b,M as x,S as g}from"./index-KEsFMlqX.js";import{C as h}from"./index-K-7oP10n.js";import"./partition--2FYojOT.js";import"./isMobile-aGnBD7or.js";import"./useMergedState-851RxE2J.js";const j=[{type:"bpmn:startEvent",text:"开始",icon:"start"},{type:"bpmn:userTask",text:"用户任务",icon:"user"},{type:"bpmn:serviceTask",text:"系统任务",icon:"user"},{type:"bpmn:exclusiveGateway",text:"条件判断",icon:"condition"},{type:"bpmn:endEvent",text:"结束",icon:"end"}],w=p({name:"Pattern",props:{lf:{type:Object,default:()=>({})}},setup:e=>(i((()=>{e.lf.value&&e.lf.value.on("selection:selected",(()=>{e.lf.value.updateEditConfig({stopMoveGraph:!1})}))})),()=>u("div",{class:v["pattern-wrapper"]},[u("div",null,[u("div",{class:[v["pattern-item"],v.selection],onMousedown:()=>{e.lf.value.updateEditConfig({stopMoveGraph:!0})}},null),u("p",{class:v.name},[d("选区")])]),j.map((t=>u("div",null,[u("div",{class:[v["pattern-item"],v[t.icon]],onMousedown:()=>{e.lf.value.dnd.startDrag({type:t.type,text:t.text})}},null),u("p",{class:v.name},[t.text])])))]))}),O={stopScrollGraph:!0,stopZoomGraph:!0,metaKeyMultipleSelected:!0,grid:{size:10,type:"dot"},keyboard:{enabled:!0},snapline:!0},M=p({name:"Bpmn",setup(){const e=c(null);return i((()=>{f.use(y),f.use(b),f.use(x),f.use(g);const o=new f((p=((e,t)=>{for(var a in t||(t={}))l.call(t,a)&&s(e,a,t[a]);if(n)for(var a of n(t))r.call(t,a)&&s(e,a,t[a]);return e})({},O),i={container:document.querySelector("#graphBpmn")},t(p,a(i))));var p,i;o.render(),e.value=o})),()=>u("div",{style:"position: relative; height: 100%; overflow: hidden;"},[u("div",{id:"graphBpmn",style:"height: 100%;"},null),u("div",null,[e.value&&u(w,{lf:e},null)])])}}),P=p({name:"FlowBpmn",setup:()=>()=>u(o,{plugin:m},{default:()=>[u(h,null,{default:()=>[u("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"500px"}},[u(M,null,null)])]})]})});export{P as default};
