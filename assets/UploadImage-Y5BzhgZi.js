import{d as e,c as t,B as a,s as n}from"./index-Ojv4YyAF.js";import{a as o}from"./index-S_VSzahn.js";const s=e({name:"UploadImage",props:{name:{type:String,default:"上传图片"},isFull:{type:Boolean,default:!1}},emits:["success"],setup(e,{emit:s}){function p(e){const{file:t}=e;if(!/\.(jpg|png|bmp|jpeg|webp)$/.test(t.name))return void n.warning("图片只支持.jpg, .png, .bmp, .jpeg, .webp格式!");t.size/1024/1024<5?function(e){const t=new FileReader;t.onload=e=>{const t=e.target&&e.target.result,a="object"==typeof t?window.URL.createObjectURL(new Blob([t])):t;s("success",a)},t.readAsDataURL(e),t.onerror=()=>{n.error("图片读取出错!")}}(t):n.warning("上传的图片大小不能超过5M!")}return()=>t(o,{action:"",accept:".jpg, .jpeg, .gif, .png, .bmp",multiple:!1,showUploadList:!1,beforeUpload:()=>!1,onChange:p},{default:()=>[t(a,{type:"primary",style:{width:e.isFull?"100%":"auto"}},{default:()=>[e.name]})]})}});export{s as U};
