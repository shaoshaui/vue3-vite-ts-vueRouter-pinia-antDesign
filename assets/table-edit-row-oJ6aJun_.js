import{g as e,ad as t,d as n,Q as a,N as o,dy as l,l as i,dz as s,cC as r,b as d,e as u,dA as c,T as p,cE as m,f,c as v,dB as y,_ as x,cJ as g,du as b,dC as k,dD as h,a4 as C,aj as j,E as I,dE as P,B as S,dF as w,O,r as T,a as B,k as D,I as $,dG as z,ap as Y,dH as M,ch as N}from"./index-hPCwy2cU.js";import{P as E}from"./PageWrapper-_w1STvok.js";import{t as A}from"./data-7P7vqW5N.js";import{C as U}from"./index--VM6Akgl.js";import{D as F}from"./dayjs-Y3yN3a3M.js";import{u as W}from"./useMergedState-VhlIxWjY.js";import{T as R}from"./index-ei48mbtJ.js";import{I as G}from"./index-yaH8dli0.js";import{R as H}from"./Group-moBsfik-.js";import{S as L}from"./index-Fa6AgMat.js";import{a as Q}from"./index-O8biUKFP.js";import{S as _}from"./index-TGC71tPX.js";import"./isMobile-aGnBD7or.js";import"./index-HouOtm8A.js";import"./List-teIXDyNS.js";import"./index-GQSaD8dc.js";import"./index-jaExAoBv.js";import"./index-ewp8BvIh.js";import"./Checkbox-eQOZ5DzF.js";import"./CheckOutlined-WBtOhnNS.js";const q=e("Popconfirm",(e=>(e=>{const{componentCls:t,iconCls:n,zIndexPopup:a,colorText:o,colorWarning:l,marginXS:i,fontSize:s,fontWeightStrong:r,lineHeight:d}=e;return{[t]:{zIndex:a,[`${t}-inner-content`]:{color:o},[`${t}-message`]:{position:"relative",marginBottom:i,color:o,fontSize:s,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${n}`]:{color:l,fontSize:s,flex:"none",lineHeight:1,paddingTop:(Math.round(s*d)-s)/2},"&-title":{flex:"auto",marginInlineStart:i},"&-title-only":{fontWeight:r}},[`${t}-description`]:{position:"relative",marginInlineStart:s+i,marginBottom:i,color:o,fontSize:s},[`${t}-buttons`]:{textAlign:"end",button:{marginInlineStart:i}}}}})(e)),(e=>{const{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}}));const J=t(n({compatConfig:{MODE:3},name:"APopconfirm",inheritAttrs:!1,props:a(o(o({},k()),{prefixCls:String,content:h(),title:h(),description:h(),okType:C("primary"),disabled:{type:Boolean,default:!1},okText:h(),cancelText:h(),icon:h(),okButtonProps:j(),cancelButtonProps:j(),showCancel:{type:Boolean,default:!0},onConfirm:Function,onCancel:Function}),o(o({},l()),{trigger:"click",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0,okType:"primary",disabled:!1})),slots:Object,setup(e,t){let{slots:n,emit:a,expose:l,attrs:k}=t;const h=i();s(void 0===e.visible),l({getPopupDomNode:()=>{var e,t;return null===(t=null===(e=h.value)||void 0===e?void 0:e.getPopupDomNode)||void 0===t?void 0:t.call(e)}});const[C,j]=W(!1,{value:r(e,"open")}),T=(t,n)=>{void 0===e.open&&j(t),a("update:open",t),a("openChange",t,n)},B=e=>{T(!1,e)},D=t=>{var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(e,t)},$=t=>{var n;T(!1,t),null===(n=e.onCancel)||void 0===n||n.call(e,t)},z=t=>{const{disabled:n}=e;n||T(t)},{prefixCls:Y,getPrefixCls:M}=d("popconfirm",e),N=u((()=>M())),E=u((()=>M("btn"))),[A]=q(Y),[U]=c("Popconfirm",p.Popconfirm),F=()=>{var t,a,l,i,s;const{okButtonProps:r,cancelButtonProps:d,title:u=(null===(t=n.title)||void 0===t?void 0:t.call(n)),description:c=(null===(a=n.description)||void 0===a?void 0:a.call(n)),cancelText:p=(null===(l=n.cancel)||void 0===l?void 0:l.call(n)),okText:m=(null===(i=n.okText)||void 0===i?void 0:i.call(n)),okType:f,icon:y=(null===(s=n.icon)||void 0===s?void 0:s.call(n))||v(I,null,null),showCancel:x=!0}=e,{cancelButton:g,okButton:b}=n,k=o({onClick:$,size:"small"},d),h=o(o(o({onClick:D},P(f)),{size:"small"}),r);return v("div",{class:`${Y.value}-inner-content`},[v("div",{class:`${Y.value}-message`},[y&&v("span",{class:`${Y.value}-message-icon`},[y]),v("div",{class:[`${Y.value}-message-title`,{[`${Y.value}-message-title-only`]:!!c}]},[u])]),c&&v("div",{class:`${Y.value}-description`},[c]),v("div",{class:`${Y.value}-buttons`},[x?g?g(k):v(S,k,{default:()=>[p||U.value.cancelText]}):null,b?b(h):v(w,{buttonProps:o(o({size:"small"},P(f)),r),actionFn:D,close:B,prefixCls:E.value,quitOnNullishReturnValue:!0,emitEvent:!0},{default:()=>[m||U.value.okText]})])])};return()=>{var t;const{placement:a,overlayClassName:o,trigger:l="click"}=e,i=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n}(e,["placement","overlayClassName","trigger"]),s=m(i,["title","content","cancelText","okText","onUpdate:open","onConfirm","onCancel","prefixCls"]),r=f(Y.value,o);return A(v(b,x(x(x({},s),k),{},{trigger:l,placement:a,onOpenChange:z,open:C.value,overlayClassName:r,transitionName:g(N.value,"zoom-big",e.transitionName),ref:h,"data-popover-inject":!0}),{default:()=>[y((null===(t=n.default)||void 0===t?void 0:t.call(n))||[],{onKeydown:e=>{(e=>{e.keyCode===O.ESC&&C&&T(!1,e)})(e)}},!1)],content:F}))}}})),K={key:"数字输入框",name:"输入框",sex:"单选框",birth:"日期选择框",education:"选择器",hobby:"多选框",forbid:"开关",action:"按钮"},V=n({name:"TableEditRow",setup(){const e=i(A),t=[{title:"编号",dataIndex:"key",width:70,align:"center"},{title:"姓名",dataIndex:"name",width:110,align:"center"},{title:"性别",dataIndex:"sex",width:120,align:"center"},{title:"生日",dataIndex:"birth",width:140,align:"center"},{title:"学历",dataIndex:"education",width:80,align:"center"},{title:"爱好",dataIndex:"hobby",width:250,align:"center"},{title:"禁止编辑",dataIndex:"forbid",width:70,align:"center"},{title:"操作",dataIndex:"action",key:"action",width:70,align:"center"}],n=T({});function a(e,t){e.birth=t}function o(e,t){e.hobby=t.join("、")}function l(t){n[t]=N(B(e).filter((e=>Number(t)===e.key))[0])}function s(t){Object.assign(B(e).filter((e=>Number(t)===e.key))[0],n[t]),delete n[t]}function r(e){delete n[e]}return()=>v(E,{plugin:M},{default:()=>[v(U,null,{default:()=>[v(R,{dataSource:B(e),columns:t,pagination:!1},{headerCell:({column:e,title:t})=>v("div",null,[v("p",null,[t]),v("p",{class:"sub-title"},[D("("),K[e.dataIndex],D(")")])]),bodyCell:({column:e,record:t,text:i})=>"key"===e.dataIndex?n[t.key]?v(G,{value:n[t.key].key,"onUpdate:value":e=>n[t.key].key=e,min:1e3,max:2e3},null):v("span",null,[i]):"name"===e.dataIndex?n[t.key]?v($,{value:n[t.key].name,"onUpdate:value":e=>n[t.key].name=e},null):v("span",null,[i]):"sex"===e.dataIndex?n[t.key]?v(H,{value:n[t.key].sex,"onUpdate:value":e=>n[t.key].sex=e,options:["男","女"].map((e=>({value:e,label:e})))},null):v("span",null,[i]):"birth"===e.dataIndex?n[t.key]?v(F,{value:z(n[t.key].birth,"YYYY-MM-DD"),format:"YYYY-MM-DD",valueFormat:"YYYY-MM-DD",onChange:a.bind(null,n[t.key])},null):v("span",null,[i]):"education"===e.dataIndex?n[t.key]?v(L,{value:n[t.key].education,"onUpdate:value":e=>n[t.key].education=e,options:["初中","高中","大专","本科"].map((e=>({value:e}))),style:"width: 80px"},null):v("span",null,[i]):"hobby"===e.dataIndex?n[t.key]?v(Q,{value:n[t.key].hobby.split("、"),options:t.hobby.split("、").map((e=>({label:e,value:e}))),onChange:o.bind(null,n[t.key])},null):v("span",null,[i]):"forbid"===e.dataIndex?n[t.key]?v(_,{checked:n[t.key].forbid,"onUpdate:checked":e=>n[t.key].forbid=e},null):v("span",null,[t.forbid?"是":"否"]):"action"===e.key?n[t.key]?v(Y,null,{default:()=>[v(S,{type:"primary",ghost:!0,onClick:s.bind(null,String(t.key))},{default:()=>[D("保存")]}),v(J,{title:"是否取消编辑？",onConfirm:r.bind(null,String(t.key))},{default:()=>[v(S,{type:"primary",danger:!0,ghost:!0},{default:()=>[D("取消")]})]})]}):v(S,{disabled:t.forbid,onClick:l.bind(null,String(t.key))},{default:()=>[D("编辑")]}):void 0})]})]})}});export{V as default};
