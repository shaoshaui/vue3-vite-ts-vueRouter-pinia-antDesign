import{N as e,d as o,P as n,e as t,l,c as a,_ as i,f as r,dT as u,cA as s,d0 as c,e9 as d,cy as p,cz as v,K as m,H as f,Y as h,es as g,k as b,fd as y,Z as S,O as w,J as x,fe as C,r as $,Q as I,$ as O,cD as F,a6 as E,ak as P,cW as T,cE as D,c_ as M,eo as k,cC as R,cB as N,h as A,cI as V,eU as B,S as H,a1 as z,e2 as L,e1 as W,e4 as j,e3 as K,ab as _,aa as G,e6 as X,e7 as U,m as Y,ac as Q,g as J,cF as Z,ae as q,af as ee,ag as oe,b as ne,cG as te,cH as le,cJ as ae,cK as ie,al as re,ff as ue,ai as se,a4 as ce,X as de,ah as pe}from"./index-uhPhvMRI.js";import{c as ve,L as me}from"./List-LLGO4AKa.js";import{i as fe}from"./isMobile-aGnBD7or.js";import{u as he}from"./useMergedState-WtJRF0n5.js";import{C as ge}from"./CheckOutlined-YW71hL-F.js";function be(e,o){const{key:n}=e;let t;return"value"in e&&({value:t}=e),null!=n?n:void 0!==t?t:`rc-index-key-${o}`}function ye(e,o){const{label:n,value:t,options:l}=e||{};return{label:n||(o?"children":"label"),value:t||"value",options:l||"options"}}function Se(o){const n=e({},o);return"props"in n||Object.defineProperty(n,"props",{get:()=>n}),n}const we=o({name:"SelectTrigger",inheritAttrs:!1,props:{dropdownAlign:Object,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},dropdownClassName:String,dropdownStyle:n.object,placement:String,empty:{type:Boolean,default:void 0},prefixCls:String,popupClassName:String,animation:String,transitionName:String,getPopupContainer:Function,dropdownRender:Function,containerWidth:Number,dropdownMatchSelectWidth:n.oneOfType([Number,Boolean]).def(!0),popupElement:n.any,direction:String,getTriggerDOMNode:Function,onPopupVisibleChange:Function,onPopupMouseEnter:Function,onPopupFocusin:Function,onPopupFocusout:Function},setup(o,n){let{slots:s,attrs:c,expose:d}=n;const p=t((()=>{const{dropdownMatchSelectWidth:e}=o;return(e=>{const o=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:o,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:o,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:o,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:o,adjustY:1}}}})(e)})),v=l();return d({getPopupElement:()=>v.value}),()=>{const n=e(e({},o),c),{empty:t=!1}=n,l=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]])}return n}(n,["empty"]),{visible:d,dropdownAlign:m,prefixCls:f,popupElement:h,dropdownClassName:g,dropdownStyle:b,direction:y="ltr",placement:S,dropdownMatchSelectWidth:w,containerWidth:x,dropdownRender:C,animation:$,transitionName:I,getPopupContainer:O,getTriggerDOMNode:F,onPopupVisibleChange:E,onPopupMouseEnter:P,onPopupFocusin:T,onPopupFocusout:D}=l,M=`${f}-dropdown`;let k=h;C&&(k=C({menuNode:h,props:o}));const R=$?`${M}-${$}`:I,N=e({minWidth:`${x}px`},b);return"number"==typeof w?N.width=`${w}px`:w&&(N.width=`${x}px`),a(u,i(i({},o),{},{showAction:E?["click"]:[],hideAction:E?["click"]:[],popupPlacement:S||("rtl"===y?"bottomRight":"bottomLeft"),builtinPlacements:p.value,prefixCls:M,popupTransitionName:R,popupAlign:m,popupVisible:d,getPopupContainer:O,popupClassName:r(g,{[`${M}-empty`]:t}),popupStyle:N,getTriggerDOMNode:F,onPopupVisibleChange:E}),{default:s.default,popup:()=>a("div",{ref:v,onMouseenter:P,onFocusin:T,onFocusout:D},[k])})}}}),xe=(e,o)=>{let{slots:n}=o;var t;const{class:l,customizeIcon:i,customizeIconProps:r,onMousedown:u,onClick:s}=e;let c;return c="function"==typeof i?i(r):i,a("span",{class:l,onMousedown:e=>{e.preventDefault(),u&&u(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},[void 0!==c?c:a("span",{class:l.split(/\s+/).map((e=>`${e}-icon`))},[null===(t=n.default)||void 0===t?void 0:t.call(n)])])};xe.inheritAttrs=!1,xe.displayName="TransBtn",xe.props={class:String,customizeIcon:n.any,customizeIconProps:n.any,onMousedown:Function,onClick:Function};const Ce=xe,$e=o({compatConfig:{MODE:3},name:"SelectInput",inheritAttrs:!1,props:{inputRef:n.any,prefixCls:String,id:String,inputElement:n.VueNode,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,editable:{type:Boolean,default:void 0},activeDescendantId:String,value:String,open:{type:Boolean,default:void 0},tabindex:n.oneOfType([n.number,n.string]),attrs:n.object,onKeydown:{type:Function},onMousedown:{type:Function},onChange:{type:Function},onPaste:{type:Function},onCompositionstart:{type:Function},onCompositionend:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},setup(o){let n=null;const t=s("VCSelectContainerEvent");return()=>{var l;const{prefixCls:i,id:u,inputElement:s,disabled:v,tabindex:m,autofocus:f,autocomplete:h,editable:g,activeDescendantId:b,value:y,onKeydown:S,onMousedown:w,onChange:x,onPaste:C,onCompositionstart:$,onCompositionend:I,onFocus:O,onBlur:F,open:E,inputRef:P,attrs:T}=o;let D=s||c(a("input",null,null),[[d]]);const M=D.props||{},{onKeydown:k,onInput:R,onFocus:N,onBlur:A,onMousedown:V,onCompositionstart:B,onCompositionend:H,style:z}=M;return D=p(D,e(e(e(e(e({type:"search"},M),{id:u,ref:P,disabled:v,tabindex:m,autocomplete:h||"off",autofocus:f,class:r(`${i}-selection-search-input`,null===(l=null==D?void 0:D.props)||void 0===l?void 0:l.class),role:"combobox","aria-expanded":E,"aria-haspopup":"listbox","aria-owns":`${u}_list`,"aria-autocomplete":"list","aria-controls":`${u}_list`,"aria-activedescendant":b}),T),{value:g?y:"",readonly:!g,unselectable:g?null:"on",style:e(e({},z),{opacity:g?null:0}),onKeydown:e=>{S(e),k&&k(e)},onMousedown:e=>{w(e),V&&V(e)},onInput:e=>{x(e),R&&R(e)},onCompositionstart(e){$(e),B&&B(e)},onCompositionend(e){I(e),H&&H(e)},onPaste:C,onFocus:function(){clearTimeout(n),N&&N(arguments.length<=0?void 0:arguments[0]),O&&O(arguments.length<=0?void 0:arguments[0]),null==t||t.focus(arguments.length<=0?void 0:arguments[0])},onBlur:function(){for(var e=arguments.length,o=new Array(e),l=0;l<e;l++)o[l]=arguments[l];n=setTimeout((()=>{A&&A(o[0]),F&&F(o[0]),null==t||t.blur(o[0])}),100)}}),"textarea"===D.type?{}:{type:"search"}),!0,!0),D}}}),Ie=Symbol("TreeSelectLegacyContextPropsKey");function Oe(e){return v(Ie,e)}function Fe(){return s(Ie,{})}const Ee={id:String,prefixCls:String,values:n.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:n.any,placeholder:n.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:n.oneOfType([n.number,n.string]),removeIcon:n.any,choiceTransitionName:String,maxTagCount:n.oneOfType([n.number,n.string]),maxTagTextLength:Number,maxTagPlaceholder:n.any.def((()=>e=>`+ ${e.length} ...`)),tagRender:Function,onToggleOpen:{type:Function},onRemove:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},Pe=e=>{e.preventDefault(),e.stopPropagation()},Te=o({name:"MultipleSelectSelector",inheritAttrs:!1,props:Ee,setup(e){const o=m(),n=m(0),l=m(!1),i=Fe(),u=t((()=>`${e.prefixCls}-selection`)),s=t((()=>e.open||"tags"===e.mode?e.searchValue:"")),c=t((()=>"tags"===e.mode||e.showSearch&&(e.open||l.value)));function d(o,n,t,l,i){return a("span",{class:r(`${u.value}-item`,{[`${u.value}-item-disabled`]:t}),title:"string"==typeof o||"number"==typeof o?o.toString():void 0},[a("span",{class:`${u.value}-item-content`},[n]),l&&a(Ce,{class:`${u.value}-item-remove`,onMousedown:Pe,onClick:i,customizeIcon:e.removeIcon},{default:()=>[b("×")]})])}function p(o){const{disabled:n,label:t,value:l,option:r}=o,u=!e.disabled&&!n;let s=t;if("number"==typeof e.maxTagTextLength&&("string"==typeof t||"number"==typeof t)){const o=String(s);o.length>e.maxTagTextLength&&(s=`${o.slice(0,e.maxTagTextLength)}...`)}const c=n=>{var t;n&&n.stopPropagation(),null===(t=e.onRemove)||void 0===t||t.call(e,o)};return"function"==typeof e.tagRender?function(o,n,t,l,r,u){var s;let c=u;return i.keyEntities&&(c=(null===(s=i.keyEntities[o])||void 0===s?void 0:s.node)||{}),a("span",{key:o,onMousedown:o=>{Pe(o),e.onToggleOpen(!open)}},[e.tagRender({label:n,value:o,disabled:t,closable:l,onClose:r,option:c})])}(l,s,n,u,c,r):d(t,s,n,u,c)}function v(o){const{maxTagPlaceholder:n=(e=>`+ ${e.length} ...`)}=e,t="function"==typeof n?n(o):n;return d(t,t,!1)}return f((()=>{h(s,(()=>{n.value=o.value.scrollWidth}),{flush:"post",immediate:!0})})),()=>{const{id:t,prefixCls:i,values:r,open:d,inputRef:m,placeholder:f,disabled:h,autofocus:w,autocomplete:x,activeDescendantId:C,tabindex:$,onInputChange:I,onInputPaste:O,onInputKeyDown:F,onInputMouseDown:E,onInputCompositionStart:P,onInputCompositionEnd:T}=e,D=a("div",{class:`${u.value}-search`,style:{width:n.value+"px"},key:"input"},[a($e,{inputRef:m,open:d,prefixCls:i,id:t,inputElement:null,disabled:h,autofocus:w,autocomplete:x,editable:c.value,activeDescendantId:C,value:s.value,onKeydown:F,onMousedown:E,onChange:I,onPaste:O,onCompositionstart:P,onCompositionend:T,tabindex:$,attrs:g(e,!0),onFocus:()=>l.value=!0,onBlur:()=>l.value=!1},null),a("span",{ref:o,class:`${u.value}-search-mirror`,"aria-hidden":!0},[s.value,b(" ")])]),M=a(y,{prefixCls:`${u.value}-overflow`,data:r,renderItem:p,renderRest:v,suffix:D,itemKey:"key",maxCount:e.maxTagCount,key:"overflow"},null);return a(S,null,[M,!r.length&&!s.value&&a("span",{class:`${u.value}-placeholder`},[f])])}}}),De={inputElement:n.any,id:String,prefixCls:String,values:n.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:n.any,placeholder:n.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:n.oneOfType([n.number,n.string]),activeValue:String,backfill:{type:Boolean,default:void 0},optionLabelRender:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},Me=o({name:"SingleSelector",setup(e){const o=m(!1),n=t((()=>"combobox"===e.mode)),l=t((()=>n.value||e.showSearch)),i=t((()=>{let t=e.searchValue||"";return n.value&&e.activeValue&&!o.value&&(t=e.activeValue),t})),r=Fe();h([n,()=>e.activeValue],(()=>{n.value&&(o.value=!1)}),{immediate:!0});const u=t((()=>!("combobox"!==e.mode&&!e.open&&!e.showSearch)&&!!i.value)),s=t((()=>{const o=e.values[0];return!o||"string"!=typeof o.label&&"number"!=typeof o.label?void 0:o.label.toString()})),c=()=>{if(e.values[0])return null;const o=u.value?{visibility:"hidden"}:void 0;return a("span",{class:`${e.prefixCls}-selection-placeholder`,style:o},[e.placeholder])};return()=>{var t,d,p,v;const{inputElement:m,prefixCls:f,id:h,values:b,inputRef:y,disabled:w,autofocus:x,autocomplete:C,activeDescendantId:$,open:I,tabindex:O,optionLabelRender:F,onInputKeyDown:E,onInputMouseDown:P,onInputChange:T,onInputPaste:D,onInputCompositionStart:M,onInputCompositionEnd:k}=e,R=b[0];let N=null;if(R&&r.customSlots){const e=null!==(t=R.key)&&void 0!==t?t:R.value,o=(null===(d=r.keyEntities[e])||void 0===d?void 0:d.node)||{};N=r.customSlots[null===(p=o.slots)||void 0===p?void 0:p.title]||r.customSlots.title||R.label,"function"==typeof N&&(N=N(o))}else N=F&&R?F(R.option):null==R?void 0:R.label;return a(S,null,[a("span",{class:`${f}-selection-search`},[a($e,{inputRef:y,prefixCls:f,id:h,open:I,inputElement:m,disabled:w,autofocus:x,autocomplete:C,editable:l.value,activeDescendantId:$,value:i.value,onKeydown:E,onMousedown:P,onChange:e=>{o.value=!0,T(e)},onPaste:D,onCompositionstart:M,onCompositionend:k,tabindex:O,attrs:g(e,!0)},null)]),!n.value&&R&&!u.value&&a("span",{class:`${f}-selection-item`,title:s.value},[a(S,{key:null!==(v=R.key)&&void 0!==v?v:R.value},[N])]),c()])}}});Me.props=De,Me.inheritAttrs=!1;const ke=Me;function Re(){let e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,n=null;return x((()=>{clearTimeout(e)})),[()=>n,function(t){(t||null===n)&&(n=t),clearTimeout(e),e=setTimeout((()=>{n=null}),o)}]}const Ne=o({name:"Selector",inheritAttrs:!1,props:{id:String,prefixCls:String,showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},values:n.array,multiple:{type:Boolean,default:void 0},mode:String,searchValue:String,activeValue:String,inputElement:n.any,autofocus:{type:Boolean,default:void 0},activeDescendantId:String,tabindex:n.oneOfType([n.number,n.string]),disabled:{type:Boolean,default:void 0},placeholder:n.any,removeIcon:n.any,maxTagCount:n.oneOfType([n.number,n.string]),maxTagTextLength:Number,maxTagPlaceholder:n.any,tagRender:Function,optionLabelRender:Function,tokenWithEnter:{type:Boolean,default:void 0},choiceTransitionName:String,onToggleOpen:{type:Function},onSearch:Function,onSearchSubmit:Function,onRemove:Function,onInputKeyDown:{type:Function},domRef:Function},setup(e,o){let{expose:n}=o;const t=ve();let l=!1;const[r,u]=Re(0),s=o=>{const{which:n}=o;var t;n!==w.UP&&n!==w.DOWN||o.preventDefault(),e.onInputKeyDown&&e.onInputKeyDown(o),n!==w.ENTER||"tags"!==e.mode||l||e.open||e.onSearchSubmit(o.target.value),t=n,[w.ESC,w.SHIFT,w.BACKSPACE,w.TAB,w.WIN_KEY,w.ALT,w.META,w.WIN_KEY_RIGHT,w.CTRL,w.SEMICOLON,w.EQUALS,w.CAPS_LOCK,w.CONTEXT_MENU,w.F1,w.F2,w.F3,w.F4,w.F5,w.F6,w.F7,w.F8,w.F9,w.F10,w.F11,w.F12].includes(t)||e.onToggleOpen(!0)},c=()=>{u(!0)};let d=null;const p=o=>{!1!==e.onSearch(o,!0,l)&&e.onToggleOpen(!0)},v=()=>{l=!0},m=o=>{l=!1,"combobox"!==e.mode&&p(o.target.value)},f=o=>{let{target:{value:n}}=o;if(e.tokenWithEnter&&d&&/[\r\n]/.test(d)){const e=d.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");n=n.replace(e,d)}d=null,p(n)},h=e=>{const{clipboardData:o}=e,n=o.getData("text");d=n},g=e=>{let{target:o}=e;if(o!==t.current){void 0!==document.body.style.msTouchAction?setTimeout((()=>{t.current.focus()})):t.current.focus()}},b=o=>{const n=r();o.target===t.current||n||o.preventDefault(),("combobox"===e.mode||e.showSearch&&n)&&e.open||(e.open&&e.onSearch("",!0,!1),e.onToggleOpen())};return n({focus:()=>{t.current.focus()},blur:()=>{t.current.blur()}}),()=>{const{prefixCls:o,domRef:n,mode:l}=e,r={inputRef:t,onInputKeyDown:s,onInputMouseDown:c,onInputChange:f,onInputPaste:h,onInputCompositionStart:v,onInputCompositionEnd:m},u=a("multiple"===l||"tags"===l?Te:ke,i(i({},e),r),null);return a("div",{ref:n,class:`${o}-selector`,onClick:g,onMousedown:b},[u])}}});const Ae=Symbol("BaseSelectContextKey");function Ve(){return s(Ae,{})}function Be(e){if(!C(e))return $(e);const o=new Proxy({},{get:(o,n,t)=>Reflect.get(e.value,n,t),set:(o,n,t)=>(e.value[n]=t,!0),deleteProperty:(o,n)=>Reflect.deleteProperty(e.value,n),has:(o,n)=>Reflect.has(e.value,n),ownKeys:()=>Object.keys(e.value),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0})});return $(o)}const He=["value","onChange","removeIcon","placeholder","autofocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabindex","OptionList","notFoundContent"],ze=()=>({showSearch:{type:Boolean,default:void 0},tagRender:{type:Function},optionLabelRender:{type:Function},direction:{type:String},tabindex:Number,autofocus:Boolean,notFoundContent:n.any,placeholder:n.any,onClear:Function,choiceTransitionName:String,mode:String,disabled:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},onDropdownVisibleChange:{type:Function},getInputElement:{type:Function},getRawInputElement:{type:Function},maxTagTextLength:Number,maxTagCount:{type:[String,Number]},maxTagPlaceholder:n.any,tokenSeparators:{type:Array},allowClear:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:void 0},inputIcon:n.any,clearIcon:n.any,removeIcon:n.any,animation:String,transitionName:String,dropdownStyle:{type:Object},dropdownClassName:String,dropdownMatchSelectWidth:{type:[Boolean,Number],default:void 0},dropdownRender:{type:Function},dropdownAlign:Object,placement:{type:String},getPopupContainer:{type:Function},showAction:{type:Array},onBlur:{type:Function},onFocus:{type:Function},onKeyup:Function,onKeydown:Function,onMousedown:Function,onPopupScroll:Function,onInputKeyDown:Function,onMouseenter:Function,onMouseleave:Function,onClick:Function});function Le(e){return"tags"===e||"multiple"===e}const We=o({compatConfig:{MODE:3},name:"BaseSelect",inheritAttrs:!1,props:I(e(e({},{prefixCls:String,id:String,omitDomProps:Array,displayValues:Array,onDisplayValuesChange:Function,activeValue:String,activeDescendantId:String,onActiveValueChange:Function,searchValue:String,onSearch:Function,onSearchSplit:Function,maxLength:Number,OptionList:n.any,emptyOptions:Boolean}),ze()),{showAction:[],notFoundContent:"Not Found"}),setup(o,n){let{attrs:u,expose:s,slots:c}=n;const d=t((()=>Le(o.mode))),g=t((()=>void 0!==o.showSearch?o.showSearch:d.value||"combobox"===o.mode)),y=m(!1);f((()=>{y.value=fe()}));const S=Fe(),C=m(null),$=ve(),I=m(null),P=m(null),T=m(null),D=l(!1),[M,k,R]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const o=m(!1);let n;const t=()=>{clearTimeout(n)};return f((()=>{t()})),[o,(l,a)=>{t(),n=setTimeout((()=>{o.value=l,a&&a()}),e)},t]}();s({focus:()=>{var e;null===(e=P.value)||void 0===e||e.focus()},blur:()=>{var e;null===(e=P.value)||void 0===e||e.blur()},scrollTo:e=>{var o;return null===(o=T.value)||void 0===o?void 0:o.scrollTo(e)}});const N=t((()=>{var e;if("combobox"!==o.mode)return o.searchValue;const n=null===(e=o.displayValues[0])||void 0===e?void 0:e.value;return"string"==typeof n||"number"==typeof n?String(n):""})),A=void 0!==o.open?o.open:o.defaultOpen,V=m(A),B=m(A),H=e=>{V.value=void 0!==o.open?o.open:e,B.value=V.value};h((()=>o.open),(()=>{H(o.open)}));const z=t((()=>!o.notFoundContent&&o.emptyOptions));O((()=>{B.value=V.value,(o.disabled||z.value&&B.value&&"combobox"===o.mode)&&(B.value=!1)}));const L=t((()=>!z.value&&B.value)),W=e=>{const n=void 0!==e?e:!B.value;B.value===n||o.disabled||(H(n),o.onDropdownVisibleChange&&o.onDropdownVisibleChange(n))},j=t((()=>(o.tokenSeparators||[]).some((e=>["\n","\r\n"].includes(e))))),K=(e,n,t)=>{var l,a;let i=!0,r=e;null===(l=o.onActiveValueChange)||void 0===l||l.call(o,null);const u=t?null:function(e,o){if(!o||!o.length)return null;let n=!1;const t=function e(o,t){let[l,...a]=t;if(!l)return[o];const i=o.split(l);return n=n||i.length>1,i.reduce(((o,n)=>[...o,...e(n,a)]),[]).filter((e=>e))}(e,o);return n?t:null}(e,o.tokenSeparators);return"combobox"!==o.mode&&u&&(r="",null===(a=o.onSearchSplit)||void 0===a||a.call(o,u),W(!1),i=!1),o.onSearch&&N.value!==r&&o.onSearch(r,{source:n?"typing":"effect"}),i},_=e=>{var n;e&&e.trim()&&(null===(n=o.onSearch)||void 0===n||n.call(o,e,{source:"submit"}))};h(B,(()=>{B.value||d.value||"combobox"===o.mode||K("",!1,!1)}),{immediate:!0,flush:"post"}),h((()=>o.disabled),(()=>{V.value&&o.disabled&&H(!1),o.disabled&&!D.value&&k(!1)}),{immediate:!0});const[G,X]=Re(),U=function(e){var n;const t=G(),{which:l}=e;if(l===w.ENTER&&("combobox"!==o.mode&&e.preventDefault(),B.value||W(!0)),X(!!N.value),l===w.BACKSPACE&&!t&&d.value&&!N.value&&o.displayValues.length){const e=[...o.displayValues];let n=null;for(let o=e.length-1;o>=0;o-=1){const t=e[o];if(!t.disabled){e.splice(o,1),n=t;break}}n&&o.onDisplayValuesChange(e,{type:"remove",values:[n]})}for(var a=arguments.length,i=new Array(a>1?a-1:0),r=1;r<a;r++)i[r-1]=arguments[r];B.value&&T.value&&T.value.onKeydown(e,...i),null===(n=o.onKeydown)||void 0===n||n.call(o,e,...i)},Y=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),l=1;l<n;l++)t[l-1]=arguments[l];B.value&&T.value&&T.value.onKeyup(e,...t),o.onKeyup&&o.onKeyup(e,...t)},Q=e=>{const n=o.displayValues.filter((o=>o!==e));o.onDisplayValuesChange(n,{type:"remove",values:[e]})},J=m(!1),Z=l(!1),q=()=>{Z.value=!0},ee=()=>{Z.value=!1};v("VCSelectContainerEvent",{focus:function(){k(!0),o.disabled||(o.onFocus&&!J.value&&o.onFocus(...arguments),o.showAction&&o.showAction.includes("focus")&&W(!0)),J.value=!0},blur:function(){if(Z.value)return;if(D.value=!0,k(!1,(()=>{J.value=!1,D.value=!1,W(!1)})),o.disabled)return;const e=N.value;e&&("tags"===o.mode?o.onSearch(e,{source:"submit"}):"multiple"===o.mode&&o.onSearch("",{source:"blur"})),o.onBlur&&o.onBlur(...arguments)}});const oe=[];f((()=>{oe.forEach((e=>clearTimeout(e))),oe.splice(0,oe.length)})),x((()=>{oe.forEach((e=>clearTimeout(e))),oe.splice(0,oe.length)}));const ne=function(e){var n,t;const{target:l}=e,a=null===(n=I.value)||void 0===n?void 0:n.getPopupElement();if(a&&a.contains(l)){const e=setTimeout((()=>{var o;const n=oe.indexOf(e);-1!==n&&oe.splice(n,1),R(),y.value||a.contains(document.activeElement)||null===(o=P.value)||void 0===o||o.focus()}));oe.push(e)}for(var i=arguments.length,r=new Array(i>1?i-1:0),u=1;u<i;u++)r[u-1]=arguments[u];null===(t=o.onMousedown)||void 0===t||t.call(o,e,...r)},te=m(null),le=()=>{};return f((()=>{h(L,(()=>{var e;if(L.value){const o=Math.ceil(null===(e=C.value)||void 0===e?void 0:e.offsetWidth);te.value===o||Number.isNaN(o)||(te.value=o)}}),{immediate:!0,flush:"post"})})),function(e,o,n){function t(t){var l,a,i;let r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r);const u=[null===(l=e[0])||void 0===l?void 0:l.value,null===(i=null===(a=e[1])||void 0===a?void 0:a.value)||void 0===i?void 0:i.getPopupElement()];o.value&&u.every((e=>e&&!e.contains(r)&&e!==r))&&n(!1)}f((()=>{window.addEventListener("mousedown",t)})),x((()=>{window.removeEventListener("mousedown",t)}))}([C,I],L,W),function(e){v(Ae,e)}(Be(e(e({},F(o)),{open:B,triggerOpen:L,showSearch:g,multiple:d,toggleOpen:W}))),()=>{const n=e(e({},o),u),{prefixCls:t,id:l,open:s,defaultOpen:v,mode:m,showSearch:f,searchValue:h,onSearch:y,allowClear:w,clearIcon:x,showArrow:O,inputIcon:F,disabled:D,loading:k,getInputElement:R,getPopupContainer:A,placement:V,animation:H,transitionName:z,dropdownStyle:G,dropdownClassName:X,dropdownMatchSelectWidth:J,dropdownRender:Z,dropdownAlign:oe,showAction:ae,direction:ie,tokenSeparators:re,tagRender:ue,optionLabelRender:se,onPopupScroll:ce,onDropdownVisibleChange:de,onFocus:pe,onBlur:ve,onKeyup:me,onKeydown:fe,onMousedown:he,onClear:ge,omitDomProps:be,getRawInputElement:ye,displayValues:Se,onDisplayValuesChange:xe,emptyOptions:$e,activeDescendantId:Ie,activeValue:Oe,OptionList:Fe}=n,Ee=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]])}return n}(n,["prefixCls","id","open","defaultOpen","mode","showSearch","searchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","disabled","loading","getInputElement","getPopupContainer","placement","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","optionLabelRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyup","onKeydown","onMousedown","onClear","omitDomProps","getRawInputElement","displayValues","onDisplayValuesChange","emptyOptions","activeDescendantId","activeValue","OptionList"]),Pe="combobox"===m&&R&&R()||null,Te="function"==typeof ye&&ye(),De=e({},Ee);let Me;Te&&(Me=e=>{W(e)}),He.forEach((e=>{delete De[e]})),null==be||be.forEach((e=>{delete De[e]}));const ke=void 0!==O?O:k||!d.value&&"combobox"!==m;let Re,Ae;ke&&(Re=a(Ce,{class:r(`${t}-arrow`,{[`${t}-arrow-loading`]:k}),customizeIcon:F,customizeIconProps:{loading:k,searchValue:N.value,open:B.value,focused:M.value,showSearch:g.value}},null));const Ve=()=>{null==ge||ge(),xe([],{type:"clear",values:Se}),K("",!1,!1)};!D&&w&&(Se.length||N.value)&&(Ae=a(Ce,{class:`${t}-clear`,onMousedown:Ve,customizeIcon:x},{default:()=>[b("×")]}));const Be=a(Fe,{ref:T},e(e({},S.customSlots),{option:c.option})),ze=r(t,u.class,{[`${t}-focused`]:M.value,[`${t}-multiple`]:d.value,[`${t}-single`]:!d.value,[`${t}-allow-clear`]:w,[`${t}-show-arrow`]:ke,[`${t}-disabled`]:D,[`${t}-loading`]:k,[`${t}-open`]:B.value,[`${t}-customize-input`]:Pe,[`${t}-show-search`]:g.value}),Le=a(we,{ref:I,disabled:D,prefixCls:t,visible:L.value,popupElement:Be,containerWidth:te.value,animation:H,transitionName:z,dropdownStyle:G,dropdownClassName:X,direction:ie,dropdownMatchSelectWidth:J,dropdownRender:Z,dropdownAlign:oe,placement:V,getPopupContainer:A,empty:$e,getTriggerDOMNode:()=>$.current,onPopupVisibleChange:Me,onPopupMouseEnter:le,onPopupFocusin:q,onPopupFocusout:ee},{default:()=>Te?E(Te)&&p(Te,{ref:$},!1,!0):a(Ne,i(i({},o),{},{domRef:$,prefixCls:t,inputElement:Pe,ref:P,id:l,showSearch:g.value,mode:m,activeDescendantId:Ie,tagRender:ue,optionLabelRender:se,values:Se,open:B.value,onToggleOpen:W,activeValue:Oe,searchValue:N.value,onSearch:K,onSearchSubmit:_,onRemove:Q,tokenWithEnter:j.value}),null)});let We;return We=Te?Le:a("div",i(i({},De),{},{class:ze,ref:C,onMousedown:ne,onKeydown:U,onKeyup:Y}),[M.value&&!B.value&&a("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},[`${Se.map((e=>{let{label:o,value:n}=e;return["number","string"].includes(typeof o)?o:n})).join(", ")}`]),Le,Re,Ae]),We}}});function je(e,o,n){const t=l(e());return h(o,((o,l)=>{n?n(o,l)&&(t.value=e()):t.value=e()})),t}const Ke=Symbol("SelectContextKey");function _e(e){return"string"==typeof e||"number"==typeof e}const Ge=o({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(e,o){let{expose:n,slots:l}=o;const u=Ve(),c=s(Ke,{}),d=t((()=>`${u.prefixCls}-item`)),p=je((()=>c.flattenOptions),[()=>u.open,()=>c.flattenOptions],(e=>e[0])),v=ve(),m=e=>{e.preventDefault()},f=e=>{v.current&&v.current.scrollTo("number"==typeof e?{index:e}:e)},b=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=p.value.length;for(let t=0;t<n;t+=1){const l=(e+t*o+n)%n,{group:a,data:i}=p.value[l];if(!a&&!i.disabled)return l}return-1},y=$({activeIndex:b(0)}),x=function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y.activeIndex=e;const n={source:o?"keyboard":"mouse"},t=p.value[e];t?c.onActiveValue(t.value,e,n):c.onActiveValue(null,-1,n)};h([()=>p.value.length,()=>u.searchValue],(()=>{x(!1!==c.defaultActiveFirstOption?b(0):-1)}),{immediate:!0});const C=e=>c.rawValues.has(e)&&"combobox"!==u.mode;h([()=>u.open,()=>u.searchValue],(()=>{if(!u.multiple&&u.open&&1===c.rawValues.size){const e=Array.from(c.rawValues)[0],o=P(p.value).findIndex((o=>{let{data:n}=o;return n[c.fieldNames.value]===e}));-1!==o&&(x(o),T((()=>{f(o)})))}u.open&&T((()=>{var e;null===(e=v.current)||void 0===e||e.scrollTo(void 0)}))}),{immediate:!0,flush:"post"});const I=e=>{void 0!==e&&c.onSelect(e,{selected:!c.rawValues.has(e)}),u.multiple||u.toggleOpen(!1)},O=e=>"function"==typeof e.label?e.label():e.label;function F(e){const o=p.value[e];if(!o)return null;const n=o.data||{},{value:t}=n,{group:l}=o,r=g(n,!0),s=O(o);return o?a("div",i(i({"aria-label":"string"!=typeof s||l?null:s},r),{},{key:e,role:l?"presentation":"option",id:`${u.id}_list_${e}`,"aria-selected":C(t)}),[t]):null}return n({onKeydown:e=>{const{which:o,ctrlKey:n}=e;switch(o){case w.N:case w.P:case w.UP:case w.DOWN:{let e=0;if(o===w.UP?e=-1:o===w.DOWN?e=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(o===w.N?e=1:o===w.P&&(e=-1)),0!==e){const o=b(y.activeIndex+e,e);f(o),x(o,!0)}break}case w.ENTER:{const o=p.value[y.activeIndex];o&&!o.data.disabled?I(o.value):I(void 0),u.open&&e.preventDefault();break}case w.ESC:u.toggleOpen(!1),u.open&&e.stopPropagation()}},onKeyup:()=>{},scrollTo:e=>{f(e)}}),()=>{const{id:e,notFoundContent:o,onPopupScroll:n}=u,{menuItemSelectedIcon:t,fieldNames:s,virtual:f,listHeight:h,listItemHeight:g}=c,b=l.option,{activeIndex:w}=y,$=Object.keys(s).map((e=>s[e]));return 0===p.value.length?a("div",{role:"listbox",id:`${e}_list`,class:`${d.value}-empty`,onMousedown:m},[o]):a(S,null,[a("div",{role:"listbox",id:`${e}_list`,style:{height:0,width:0,overflow:"hidden"}},[F(w-1),F(w),F(w+1)]),a(me,{itemKey:"key",ref:v,data:p.value,height:h,itemHeight:g,fullHeight:!1,onMousedown:m,onScroll:n,virtual:f},{default:(e,o)=>{var n;const{group:l,groupOption:u,data:s,value:c}=e,{key:p}=s,v="function"==typeof e.label?e.label():e.label;if(l){const e=null!==(n=s.title)&&void 0!==n?n:_e(v)&&v;return a("div",{class:r(d.value,`${d.value}-group`),title:e},[b?b(s):void 0!==v?v:p])}const{disabled:m,title:f,children:h,style:g,class:y,className:S}=s,F=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]])}return n}(s,["disabled","title","children","style","class","className"]),P=D(F,$),T=C(c),M=`${d.value}-option`,k=r(d.value,M,y,S,{[`${M}-grouped`]:u,[`${M}-active`]:w===o&&!m,[`${M}-disabled`]:m,[`${M}-selected`]:T}),R=O(e),N=!t||"function"==typeof t||T,A="number"==typeof R?R:R||c;let V=_e(A)?A.toString():void 0;return void 0!==f&&(V=f),a("div",i(i({},P),{},{"aria-selected":T,class:k,title:V,onMousemove:e=>{F.onMousemove&&F.onMousemove(e),w===o||m||x(o)},onClick:e=>{m||I(c),F.onClick&&F.onClick(e)},style:g}),[a("div",{class:`${M}-content`},[b?b(s):A]),E(t)||T,N&&a(Ce,{class:`${d.value}-option-state`,customizeIcon:t,customizeIconProps:{isSelected:T}},{default:()=>[T?"✓":null]})])}})])}}});var Xe=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(t=Object.getOwnPropertySymbols(e);l<t.length;l++)o.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(n[t[l]]=e[t[l]])}return n};function Ue(o){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return M(o).map(((o,t)=>{var l;if(!E(o)||!o.type)return null;const{type:{isSelectOptGroup:a},key:i,children:r,props:u}=o;if(n||!a)return function(o){const n=o,{key:t,children:l}=n,a=n.props,{value:i,disabled:r}=a,u=Xe(a,["value","disabled"]),s=null==l?void 0:l.default;return e({key:t,value:void 0!==i?i:t,children:s,disabled:r||""===r},u)}(o);const s=r&&r.default?r.default():void 0,c=(null==u?void 0:u.label)||(null===(l=r.label)||void 0===l?void 0:l.call(r))||i;return e(e({key:`__RC_SELECT_GRP__${null===i?t:String(i)}__`},u),{label:c,options:Ue(s||[])})})).filter((e=>e))}let Ye=0;const Qe=k();function Je(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l("");const o=`rc_select_${function(){let e;return Qe?(e=Ye,Ye+=1):e="TEST_OR_SSR",e}()}`;return e.value||o}function Ze(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}function qe(e,o){return Ze(e).join("").toUpperCase().includes(o)}const eo=["inputValue"];function oo(){return e(e({},ze()),{prefixCls:String,id:String,backfill:{type:Boolean,default:void 0},fieldNames:Object,inputValue:String,searchValue:String,onSearch:Function,autoClearSearchValue:{type:Boolean,default:void 0},onSelect:Function,onDeselect:Function,filterOption:{type:[Boolean,Function],default:void 0},filterSort:Function,optionFilterProp:String,optionLabelProp:String,options:Array,defaultActiveFirstOption:{type:Boolean,default:void 0},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,menuItemSelectedIcon:n.any,mode:String,labelInValue:{type:Boolean,default:void 0},value:n.any,defaultValue:n.any,onChange:Function,children:Array})}const no=o({compatConfig:{MODE:3},name:"VcSelect",inheritAttrs:!1,props:I(oo(),{prefixCls:"vc-select",autoClearSearchValue:!0,listHeight:200,listItemHeight:20,dropdownMatchSelectWidth:!0}),setup(o,n){let{expose:r,attrs:u,slots:s}=n;const c=Je(R(o,"id")),d=t((()=>Le(o.mode))),p=t((()=>!(o.options||!o.children))),f=t((()=>(void 0!==o.filterOption||"combobox"!==o.mode)&&o.filterOption)),g=t((()=>ye(o.fieldNames,p.value))),[b,y]=he("",{value:t((()=>void 0!==o.searchValue?o.searchValue:o.inputValue)),postState:e=>e||""}),S=function(e,o,n){const t=m(),l=m(),a=m(),i=m([]);return h([e,o],(()=>{e.value?i.value=P(e.value).slice():i.value=Ue(o.value)}),{immediate:!0,deep:!0}),O((()=>{const e=i.value,o=new Map,r=new Map,u=n.value;!function e(n){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let l=0;l<n.length;l+=1){const a=n[l];!a[u.options]||t?(o.set(a[u.value],a),r.set(a[u.label],a)):e(a[u.options],!0)}}(e),t.value=e,l.value=o,a.value=r})),{options:t,valueOptions:l,labelOptions:a}}(R(o,"options"),R(o,"children"),g),{valueOptions:w,labelOptions:x,options:C}=S,$=e=>Ze(e).map((e=>{var n,t;let l,a,i,r;var u;(u=e)&&"object"==typeof u?(i=e.key,a=e.label,l=null!==(n=e.value)&&void 0!==n?n:i):l=e;const s=w.value.get(l);return s&&(void 0===a&&(a=null==s?void 0:s[o.optionLabelProp||g.value.label]),void 0===i&&(i=null!==(t=null==s?void 0:s.key)&&void 0!==t?t:l),r=null==s?void 0:s.disabled),{label:a,value:l,key:i,disabled:r,option:s}})),[I,F]=he(o.defaultValue,{value:R(o,"value")}),E=t((()=>{var e;const n=$(I.value);return"combobox"!==o.mode||(null===(e=n[0])||void 0===e?void 0:e.value)?n:[]})),[T,M]=((o,n)=>{const l=m({values:new Map,options:new Map});return[t((()=>{const{values:t,options:a}=l.value,i=o.value.map((o=>{var n;return void 0===o.label?e(e({},o),{label:null===(n=t.get(o.value))||void 0===n?void 0:n.label}):o})),r=new Map,u=new Map;return i.forEach((e=>{r.set(e.value,e),u.set(e.value,n.value.get(e.value)||a.get(e.value))})),l.value.values=r,l.value.options=u,i})),e=>n.value.get(e)||l.value.options.get(e)]})(E,w),k=t((()=>{if(!o.mode&&1===T.value.length){const e=T.value[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return T.value.map((o=>{var n;return e(e({},o),{label:null!==(n="function"==typeof o.label?o.label():o.label)&&void 0!==n?n:o.value})}))})),A=t((()=>new Set(T.value.map((e=>e.value)))));O((()=>{var e;if("combobox"===o.mode){const o=null===(e=T.value[0])||void 0===e?void 0:e.value;null!=o&&y(String(o))}}),{flush:"post"});const V=(e,o)=>{const n=null!=o?o:e;return{[g.value.value]:e,[g.value.label]:n}},B=m();O((()=>{if("tags"!==o.mode)return void(B.value=C.value);const e=C.value.slice();[...T.value].sort(((e,o)=>e.value<o.value?-1:1)).forEach((o=>{const n=o.value;(e=>w.value.has(e))(n)||e.push(V(n,o.label))})),B.value=e}));const H=(z=B,L=g,W=b,j=f,K=R(o,"optionFilterProp"),t((()=>{const o=W.value,n=null==K?void 0:K.value,t=null==j?void 0:j.value;if(!o||!1===t)return z.value;const{options:l,label:a,value:i}=L.value,r=[],u="function"==typeof t,s=o.toUpperCase(),c=u?t:(e,o)=>n?qe(o[n],s):o[l]?qe(o["children"!==a?a:"label"],s):qe(o[i],s),d=u?e=>Se(e):e=>e;return z.value.forEach((n=>{if(n[l])if(c(o,d(n)))r.push(n);else{const t=n[l].filter((e=>c(o,d(e))));t.length&&r.push(e(e({},n),{[l]:t}))}else c(o,d(n))&&r.push(n)})),r})));var z,L,W,j,K;const _=t((()=>"tags"!==o.mode||!b.value||H.value.some((e=>e[o.optionFilterProp||"value"]===b.value))?H.value:[V(b.value),...H.value])),G=t((()=>o.filterSort?[..._.value].sort(((e,n)=>o.filterSort(e,n))):_.value)),X=t((()=>function(e){let{fieldNames:o,childrenAsData:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=[],{label:l,value:a,options:i}=ye(o,!1);return function e(o,r){o.forEach((o=>{const u=o[l];if(r||!(i in o)){const e=o[a];t.push({key:be(o,t.length),groupOption:r,data:o,label:u,value:e})}else{let l=u;void 0===l&&n&&(l=o.label),t.push({key:be(o,t.length),group:!0,data:o,label:l}),e(o[i],!0)}}))}(e,!1),t}(G.value,{fieldNames:g.value,childrenAsData:p.value}))),U=n=>{const t=$(n);if(F(t),o.onChange&&(t.length!==T.value.length||t.some(((e,o)=>{var n;return(null===(n=T.value[o])||void 0===n?void 0:n.value)!==(null==e?void 0:e.value)})))){const n=o.labelInValue?t.map((o=>e(e({},o),{originLabel:o.label,label:"function"==typeof o.label?o.label():o.label}))):t.map((e=>e.value)),l=t.map((e=>Se(M(e.value))));o.onChange(d.value?n:n[0],d.value?l:l[0])}},[Y,Q]=N(null),[J,Z]=N(0),q=t((()=>void 0!==o.defaultActiveFirstOption?o.defaultActiveFirstOption:"combobox"!==o.mode)),ee=(e,n)=>{const t=()=>{var n;const t=M(e),l=null==t?void 0:t[g.value.label];return[o.labelInValue?{label:"function"==typeof l?l():l,originLabel:l,value:e,key:null!==(n=null==t?void 0:t.key)&&void 0!==n?n:e}:e,Se(t)]};if(n&&o.onSelect){const[e,n]=t();o.onSelect(e,n)}else if(!n&&o.onDeselect){const[e,n]=t();o.onDeselect(e,n)}},oe=(e,o)=>{U(e),"remove"!==o.type&&"clear"!==o.type||o.values.forEach((e=>{ee(e.value,!1)}))},ne=(e,n)=>{var t;if(y(e),Q(null),"submit"!==n.source)"blur"!==n.source&&("combobox"===o.mode&&U(e),null===(t=o.onSearch)||void 0===t||t.call(o,e));else{const o=(e||"").trim();if(o){const e=Array.from(new Set([...A.value,o]));U(e),ee(o,!0),y("")}}},te=e=>{let n=e;"tags"!==o.mode&&(n=e.map((e=>{const o=x.value.get(e);return null==o?void 0:o.value})).filter((e=>void 0!==e)));const t=Array.from(new Set([...A.value,...n]));U(t),t.forEach((e=>{ee(e,!0)}))},le=t((()=>!1!==o.virtual&&!1!==o.dropdownMatchSelectWidth));!function(e){v(Ke,e)}(Be(e(e({},S),{flattenOptions:X,onActiveValue:function(e,n){let{source:t="keyboard"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Z(n),o.backfill&&"combobox"===o.mode&&null!==e&&"keyboard"===t&&Q(String(e))},defaultActiveFirstOption:q,onSelect:(e,n)=>{let t;const l=!d.value||n.selected;t=l?d.value?[...T.value,e]:[e]:T.value.filter((o=>o.value!==e)),U(t),ee(e,l),"combobox"===o.mode?Q(""):d.value&&!o.autoClearSearchValue||(y(""),Q(""))},menuItemSelectedIcon:R(o,"menuItemSelectedIcon"),rawValues:A,fieldNames:g,virtual:le,listHeight:R(o,"listHeight"),listItemHeight:R(o,"listItemHeight"),childrenAsData:p})));const ae=l();r({focus(){var e;null===(e=ae.value)||void 0===e||e.focus()},blur(){var e;null===(e=ae.value)||void 0===e||e.blur()},scrollTo(e){var o;null===(o=ae.value)||void 0===o||o.scrollTo(e)}});const ie=t((()=>D(o,["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"])));return()=>a(We,i(i(i({},ie.value),u),{},{id:c,prefixCls:o.prefixCls,ref:ae,omitDomProps:eo,mode:o.mode,displayValues:k.value,onDisplayValuesChange:oe,searchValue:b.value,onSearch:ne,onSearchSplit:te,dropdownMatchSelectWidth:o.dropdownMatchSelectWidth,OptionList:Ge,emptyOptions:!X.value.length,activeValue:Y.value,activeDescendantId:`${c}_list_${J.value}`}),s)}}),to=()=>null;to.isSelectOption=!0,to.displayName="ASelectOption";const lo=to,ao=()=>null;ao.isSelectOptGroup=!0,ao.displayName="ASelectOptGroup";const io=ao;function ro(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{loading:n,multiple:t,prefixCls:l,hasFeedback:i,feedbackIcon:r,showArrow:u}=e,s=e.suffixIcon||o.suffixIcon&&o.suffixIcon(),c=e.clearIcon||o.clearIcon&&o.clearIcon(),d=e.menuItemSelectedIcon||o.menuItemSelectedIcon&&o.menuItemSelectedIcon(),p=e.removeIcon||o.removeIcon&&o.removeIcon(),v=null!=c?c:a(A,null,null),m=e=>a(S,null,[!1!==u&&e,i&&r]);let f=null;if(void 0!==s)f=m(s);else if(n)f=m(a(V,{spin:!0},null));else{const e=`${l}-suffix`;f=o=>{let{open:n,showSearch:t}=o;return m(a(n&&t?H:z,{class:e},null))}}let h=null;h=void 0!==d?d:t?a(ge,null,null):null;let g=null;return g=void 0!==p?p:a(B,null,null),{clearIcon:v,suffixIcon:f,itemIcon:h,removeIcon:g}}const uo=e=>{const{controlPaddingHorizontal:o}=e;return{position:"relative",display:"block",minHeight:e.controlHeight,padding:`${(e.controlHeight-e.fontSize*e.lineHeight)/2}px ${o}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,boxSizing:"border-box"}},so=o=>{const{antCls:n,componentCls:t}=o,l=`${t}-item`;return[{[`${t}-dropdown`]:e(e({},G(o)),{position:"absolute",top:-9999,zIndex:o.zIndexPopup,boxSizing:"border-box",padding:o.paddingXXS,overflow:"hidden",fontSize:o.fontSize,fontVariant:"initial",backgroundColor:o.colorBgElevated,borderRadius:o.borderRadiusLG,outline:"none",boxShadow:o.boxShadowSecondary,[`\n            &${n}-slide-up-enter${n}-slide-up-enter-active${t}-dropdown-placement-bottomLeft,\n            &${n}-slide-up-appear${n}-slide-up-appear-active${t}-dropdown-placement-bottomLeft\n          `]:{animationName:L},[`\n            &${n}-slide-up-enter${n}-slide-up-enter-active${t}-dropdown-placement-topLeft,\n            &${n}-slide-up-appear${n}-slide-up-appear-active${t}-dropdown-placement-topLeft\n          `]:{animationName:W},[`&${n}-slide-up-leave${n}-slide-up-leave-active${t}-dropdown-placement-bottomLeft`]:{animationName:j},[`&${n}-slide-up-leave${n}-slide-up-leave-active${t}-dropdown-placement-topLeft`]:{animationName:K},"&-hidden":{display:"none"},"&-empty":{color:o.colorTextDisabled},[`${l}-empty`]:e(e({},uo(o)),{color:o.colorTextDisabled}),[`${l}`]:e(e({},uo(o)),{cursor:"pointer",transition:`background ${o.motionDurationSlow} ease`,borderRadius:o.borderRadiusSM,"&-group":{color:o.colorTextDescription,fontSize:o.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":e({flex:"auto"},_),"&-state":{flex:"none"},[`&-active:not(${l}-option-disabled)`]:{backgroundColor:o.controlItemBgHover},[`&-selected:not(${l}-option-disabled)`]:{color:o.colorText,fontWeight:o.fontWeightStrong,backgroundColor:o.controlItemBgActive,[`${l}-option-state`]:{color:o.colorPrimary}},"&-disabled":{[`&${l}-option-selected`]:{backgroundColor:o.colorBgContainerDisabled},color:o.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:2*o.controlPaddingHorizontal}}}),"&-rtl":{direction:"rtl"}})},X(o,"slide-up"),X(o,"slide-down"),U(o,"move-up"),U(o,"move-down")]},co=2;function po(e){let{controlHeightSM:o,controlHeight:n,lineWidth:t}=e;const l=(n-o)/2-t;return[l,Math.ceil(l/2)]}function vo(o,n){const{componentCls:t,iconCls:l}=o,a=`${t}-selection-overflow`,i=o.controlHeightSM,[r]=po(o);return{[`${t}-multiple${n?`${t}-${n}`:""}`]:{fontSize:o.fontSize,[a]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${t}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:`${r-co}px ${2*co}px`,borderRadius:o.borderRadius,[`${t}-show-search&`]:{cursor:"text"},[`${t}-disabled&`]:{background:o.colorBgContainerDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${co}px 0`,lineHeight:`${i}px`,content:'"\\a0"'}},[`\n        &${t}-show-arrow ${t}-selector,\n        &${t}-allow-clear ${t}-selector\n      `]:{paddingInlineEnd:o.fontSizeIcon+o.controlPaddingHorizontal},[`${t}-selection-item`]:{position:"relative",display:"flex",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:i,marginTop:co,marginBottom:co,lineHeight:i-2*o.lineWidth+"px",background:o.colorFillSecondary,border:`${o.lineWidth}px solid ${o.colorSplit}`,borderRadius:o.borderRadiusSM,cursor:"default",transition:`font-size ${o.motionDurationSlow}, line-height ${o.motionDurationSlow}, height ${o.motionDurationSlow}`,userSelect:"none",marginInlineEnd:2*co,paddingInlineStart:o.paddingXS,paddingInlineEnd:o.paddingXS/2,[`${t}-disabled&`]:{color:o.colorTextDisabled,borderColor:o.colorBorder,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:o.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":e(e({},Q()),{display:"inline-block",color:o.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${l}`]:{verticalAlign:"-0.2em"},"&:hover":{color:o.colorIconHover}})},[`${a}-item + ${a}-item`]:{[`${t}-selection-search`]:{marginInlineStart:0}},[`${t}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:o.inputPaddingHorizontalBase-r,"\n          &-input,\n          &-mirror\n        ":{height:i,fontFamily:o.fontFamily,lineHeight:`${i}px`,transition:`all ${o.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${t}-selection-placeholder `]:{position:"absolute",top:"50%",insetInlineStart:o.inputPaddingHorizontalBase,insetInlineEnd:o.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${o.motionDurationSlow}`}}}}function mo(e){const{componentCls:o}=e,n=Y(e,{controlHeight:e.controlHeightSM,controlHeightSM:e.controlHeightXS,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),[,t]=po(e);return[vo(e),vo(n,"sm"),{[`${o}-multiple${o}-sm`]:{[`${o}-selection-placeholder`]:{insetInlineStart:e.controlPaddingHorizontalSM-e.lineWidth,insetInlineEnd:"auto"},[`${o}-selection-search`]:{marginInlineStart:t}}},vo(Y(e,{fontSize:e.fontSizeLG,controlHeight:e.controlHeightLG,controlHeightSM:e.controlHeight,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius}),"lg")]}function fo(o,n){const{componentCls:t,inputPaddingHorizontalBase:l,borderRadius:a}=o,i=o.controlHeight-2*o.lineWidth,r=Math.ceil(1.25*o.fontSize);return{[`${t}-single${n?`${t}-${n}`:""}`]:{fontSize:o.fontSize,[`${t}-selector`]:e(e({},G(o)),{display:"flex",borderRadius:a,[`${t}-selection-search`]:{position:"absolute",top:0,insetInlineStart:l,insetInlineEnd:l,bottom:0,"&-input":{width:"100%"}},[`\n          ${t}-selection-item,\n          ${t}-selection-placeholder\n        `]:{padding:0,lineHeight:`${i}px`,transition:`all ${o.motionDurationSlow}`,"@supports (-moz-appearance: meterbar)":{lineHeight:`${i}px`}},[`${t}-selection-item`]:{position:"relative",userSelect:"none"},[`${t}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${t}-selection-item:after`,`${t}-selection-placeholder:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`\n        &${t}-show-arrow ${t}-selection-item,\n        &${t}-show-arrow ${t}-selection-placeholder\n      `]:{paddingInlineEnd:r},[`&${t}-open ${t}-selection-item`]:{color:o.colorTextPlaceholder},[`&:not(${t}-customize-input)`]:{[`${t}-selector`]:{width:"100%",height:o.controlHeight,padding:`0 ${l}px`,[`${t}-selection-search-input`]:{height:i},"&:after":{lineHeight:`${i}px`}}},[`&${t}-customize-input`]:{[`${t}-selector`]:{"&:after":{display:"none"},[`${t}-selection-search`]:{position:"static",width:"100%"},[`${t}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${l}px`,"&:after":{display:"none"}}}}}}}function ho(e){const{componentCls:o}=e,n=e.controlPaddingHorizontalSM-e.lineWidth;return[fo(e),fo(Y(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${o}-single${o}-sm`]:{[`&:not(${o}-customize-input)`]:{[`${o}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${o}-selector`]:{padding:`0 ${n}px`},[`&${o}-show-arrow ${o}-selection-search`]:{insetInlineEnd:n+1.5*e.fontSize},[`\n            &${o}-show-arrow ${o}-selection-item,\n            &${o}-show-arrow ${o}-selection-placeholder\n          `]:{paddingInlineEnd:1.5*e.fontSize}}}},fo(Y(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const go=e=>{const{componentCls:o}=e;return{position:"relative",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${o}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit"}},[`${o}-disabled&`]:{color:e.colorTextDisabled,background:e.colorBgContainerDisabled,cursor:"not-allowed",[`${o}-multiple&`]:{background:e.colorBgContainerDisabled},input:{cursor:"not-allowed"}}}},bo=function(o,n){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{componentCls:l,borderHoverColor:a,outlineColor:i,antCls:r}=n;return{[o]:{[`&:not(${l}-disabled):not(${l}-customize-input):not(${r}-pagination-size-changer)`]:e(e({},t?{[`${l}-selector`]:{borderColor:a}}:{}),{[`${l}-focused& ${l}-selector`]:{borderColor:a,boxShadow:`0 0 0 ${n.controlOutlineWidth}px ${i}`,borderInlineEndWidth:`${n.controlLineWidth}px !important`,outline:0},[`&:hover ${l}-selector`]:{borderColor:a,borderInlineEndWidth:`${n.controlLineWidth}px !important`}})}}},yo=e=>{const{componentCls:o}=e;return{[`${o}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},So=o=>{const{componentCls:n,inputPaddingHorizontalBase:t,iconCls:l}=o;return{[n]:e(e({},G(o)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:e(e({},go(o)),yo(o)),[`${n}-selection-item`]:e({flex:1,fontWeight:"normal"},_),[`${n}-selection-placeholder`]:e(e({},_),{flex:1,color:o.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:e(e({},Q()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:t,height:o.fontSizeIcon,marginTop:-o.fontSizeIcon/2,color:o.colorTextQuaternary,fontSize:o.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[l]:{verticalAlign:"top",transition:`transform ${o.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:t,zIndex:1,display:"inline-block",width:o.fontSizeIcon,height:o.fontSizeIcon,marginTop:-o.fontSizeIcon/2,color:o.colorTextQuaternary,fontSize:o.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:o.colorBgContainer,cursor:"pointer",opacity:0,transition:`color ${o.motionDurationMid} ease, opacity ${o.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:o.colorTextTertiary}},"&:hover":{[`${n}-clear`]:{opacity:1}}}),[`${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:t+o.fontSize+o.paddingXXS}}}},wo=e=>{const{componentCls:o}=e;return[{[o]:{[`&-borderless ${o}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${o}-in-form-item`]:{width:"100%"}}},So(e),ho(e),mo(e),so(e),{[`${o}-rtl`]:{direction:"rtl"}},bo(o,Y(e,{borderHoverColor:e.colorPrimaryHover,outlineColor:e.controlOutline})),bo(`${o}-status-error`,Y(e,{borderHoverColor:e.colorErrorHover,outlineColor:e.colorErrorOutline}),!0),bo(`${o}-status-warning`,Y(e,{borderHoverColor:e.colorWarningHover,outlineColor:e.colorWarningOutline}),!0),Z(e,{borderElCls:`${o}-selector`,focusElCls:`${o}-focused`})]},xo=J("Select",((e,o)=>{let{rootPrefixCls:n}=o;const t=Y(e,{rootPrefixCls:n,inputPaddingHorizontalBase:e.paddingSM-1});return[wo(t)]}),(e=>({zIndexPopup:e.zIndexPopupBase+50}))),Co=()=>e(e({},D(oo(),["inputIcon","mode","getInputElement","getRawInputElement","backfill"])),{value:se([Array,Object,String,Number]),defaultValue:se([Array,Object,String,Number]),notFoundContent:n.any,suffixIcon:n.any,itemIcon:n.any,size:ce(),mode:ce(),bordered:de(!0),transitionName:String,choiceTransitionName:ce(""),popupClassName:String,dropdownClassName:String,placement:ce(),status:ce(),"onUpdate:value":pe()}),$o="SECRET_COMBOBOX_MODE_DO_NOT_USE",Io=o({compatConfig:{MODE:3},name:"ASelect",Option:lo,OptGroup:io,inheritAttrs:!1,props:I(Co(),{listHeight:256,listItemHeight:24}),SECRET_COMBOBOX_MODE_DO_NOT_USE:$o,slots:Object,setup(o,n){let{attrs:u,emit:s,slots:c,expose:d}=n;const p=l(),v=q(),m=ee.useInject(),f=t((()=>oe(m.status,o.status))),h=t((()=>{const{mode:e}=o;if("combobox"!==e)return e===$o?"combobox":e})),{prefixCls:g,direction:b,configProvider:y,renderEmpty:S,size:w,getPrefixCls:x,getPopupContainer:C,disabled:$,select:I}=ne("select",o),{compactSize:O,compactItemClassnames:F}=te(g,b),E=t((()=>O.value||w.value)),P=le(),T=t((()=>{var e;return null!==(e=$.value)&&void 0!==e?e:P.value})),[M,k]=xo(g),R=t((()=>x())),N=t((()=>void 0!==o.placement?o.placement:"rtl"===b.value?"bottomRight":"bottomLeft")),A=t((()=>ae(R.value,ie(N.value),o.transitionName))),V=t((()=>r({[`${g.value}-lg`]:"large"===E.value,[`${g.value}-sm`]:"small"===E.value,[`${g.value}-rtl`]:"rtl"===b.value,[`${g.value}-borderless`]:!o.bordered,[`${g.value}-in-form-item`]:m.isFormItemInput},re(g.value,f.value,m.hasFeedback),F.value,k.value))),B=function(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];s("update:value",o[0]),s("change",...o),v.onFieldChange()},H=e=>{s("blur",e),v.onFieldBlur()};d({blur:()=>{var e;null===(e=p.value)||void 0===e||e.blur()},focus:()=>{var e;null===(e=p.value)||void 0===e||e.focus()},scrollTo:e=>{var o;null===(o=p.value)||void 0===o||o.scrollTo(e)}});const z=t((()=>"multiple"===h.value||"tags"===h.value)),L=t((()=>void 0!==o.showArrow?o.showArrow:o.loading||!(z.value||"combobox"===h.value)));return()=>{var n,t,l,s;const{notFoundContent:d,listHeight:f=256,listItemHeight:y=24,popupClassName:w,dropdownClassName:x,virtual:$,dropdownMatchSelectWidth:O,id:F=v.id.value,placeholder:E=(null===(n=c.placeholder)||void 0===n?void 0:n.call(c)),showArrow:P}=o,{hasFeedback:R,feedbackIcon:N}=m;let W;W=void 0!==d?d:c.notFoundContent?c.notFoundContent():"combobox"===h.value?null:(null==S?void 0:S("Select"))||a(ue,{componentName:"Select"},null);const{suffixIcon:j,itemIcon:K,removeIcon:_,clearIcon:G}=ro(e(e({},o),{multiple:z.value,prefixCls:g.value,hasFeedback:R,feedbackIcon:N,showArrow:L.value}),c),X=D(o,["prefixCls","suffixIcon","itemIcon","removeIcon","clearIcon","size","bordered","status"]),U=r(w||x,{[`${g.value}-dropdown-${b.value}`]:"rtl"===b.value},k.value);return M(a(no,i(i(i({ref:p,virtual:$,dropdownMatchSelectWidth:O},X),u),{},{showSearch:null!==(t=o.showSearch)&&void 0!==t?t:null===(l=null==I?void 0:I.value)||void 0===l?void 0:l.showSearch,placeholder:E,listHeight:f,listItemHeight:y,mode:h.value,prefixCls:g.value,direction:b.value,inputIcon:j,menuItemSelectedIcon:K,removeIcon:_,clearIcon:G,notFoundContent:W,class:[V.value,u.class],getPopupContainer:null==C?void 0:C.value,dropdownClassName:U,onChange:B,onBlur:H,id:F,dropdownRender:X.dropdownRender||c.dropdownRender,transitionName:A.value,children:null===(s=c.default)||void 0===s?void 0:s.call(c),tagRender:o.tagRender||c.tagRender,optionLabelRender:c.optionLabel,maxTagPlaceholder:o.maxTagPlaceholder||c.maxTagPlaceholder,showArrow:R||P,disabled:T.value}),{option:c.option}))}}});Io.install=function(e){return e.component(Io.name,Io),e.component(Io.Option.displayName,Io.Option),e.component(Io.OptGroup.displayName,Io.OptGroup),e},Io.Option,Io.OptGroup;const Oo=Io;export{We as B,Oo as S,Je as a,ze as b,xo as c,Fe as d,je as e,Oe as f,ro as g,Co as s,Be as t,Ve as u};
