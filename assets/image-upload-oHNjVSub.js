import{P as e}from"./PageWrapper-kjRDiOIM.js";import{d as t,l,t as a,U as i,v as u,c as s,k as n,a as p,B as o,M as r,w as d}from"./index-uhPhvMRI.js";import{R as c,C as m}from"./index-q0wsfbyu.js";import{C as f,P as g}from"./index-M8qE7_hJ.js";import{U as v,a as j}from"./index-K0hAN0G7.js";import{C as h}from"./CloudUploadOutlined-2NVpnspV.js";import"./isMobile-aGnBD7or.js";import"./useMergedState-WtJRF0n5.js";import"./partition-CUGv5GgH.js";import"./DeleteOutlined-f9LY8FT8.js";import"./CheckOutlined-YW71hL-F.js";const b=t({name:"ImageUpload",setup(){const t=l(!1),b=l(""),y=l(""),{getThemeColor:w}=a(),x=l([{uid:"-1",name:"beautiful-girl.jpg"},{uid:"-2",name:"beautiful-sunshine.jpg"}]),U=l([{uid:"-1",name:"beautiful-girl.jpg",status:"done",url:i,thumbUrl:i},{uid:"-2",name:"beautiful-sunshine.jpg",status:"done",url:u,thumbUrl:u}]);function C(e){return l=this,a=null,i=function*(){e.url||e.preview||(e.preview=yield function(e){return new Promise(((t,l)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>t(a.result),a.onerror=e=>l(e)}))}(e.originFileObj)),b.value=e.url||e.preview,t.value=!0,y.value=e.name||e.url.substring(e.url.lastIndexOf("/")+1)},new Promise(((e,t)=>{var u=e=>{try{n(i.next(e))}catch(l){t(l)}},s=e=>{try{n(i.throw(e))}catch(l){t(l)}},n=t=>t.done?e(t.value):Promise.resolve(t.value).then(u,s);n((i=i.apply(l,a)).next())}));var l,a,i}function L(){t.value=!1,y.value=""}return()=>s(e,{plugin:d},{default:()=>[s(c,{gutter:12},{default:()=>[s(m,{span:8},{default:()=>[s(f,{title:"拖拽上传",bodyStyle:{height:"300px"}},{default:()=>[s(v,{fileList:x.value,"onUpdate:fileList":e=>x.value=e,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",accept:".jpg, .jpeg, .gif, .png, .bmp",multiple:!0,class:"batch-upload"},{default:()=>[s("p",{class:"ant-upload-drag-icon",style:"margin-bottom: 0;"},[s(h,null,null)]),s("p",null,[n("将图片拖到此处, 或"),s("span",{style:{color:p(w)}},[n("点击上传")])]),s("p",{class:"ant-upload-hint"},[n("只能上传jpg、jpeg、gif、png、bmp文件, 且不超过500kb")])]})]})]}),s(m,{span:8},{default:()=>[s(f,{title:"列表样式",bodyStyle:{height:"300px"}},{default:()=>[s(j,{fileList:U.value,"onUpdate:fileList":e=>U.value=e,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",accept:".jpg, .jpeg, .gif, .png, .bmp",listType:"picture",class:"list-upload"},{default:()=>[s(o,{type:"primary"},{default:()=>[s(h,null,null),s("span",null,[n("点击上传")])]}),s("p",{class:"ant-upload-hint"},[n("只能上传jpg、jpeg、gif、png、bmp文件, 且不超过500kb")])]})]})]}),s(m,{span:8},{default:()=>[s(f,{title:"照片墙",bodyStyle:{height:"300px"}},{default:()=>[s(j,{fileList:U.value,"onUpdate:fileList":e=>U.value=e,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",accept:".jpg, .jpeg, .gif, .png, .bmp",listType:"picture-card",class:"list-upload",onPreview:C},{default:()=>[s("div",null,[s(g,null,null),s("div",{style:"margin-top: 8px"},[n("点击上传")])])]})]}),s(r,{open:t.value,title:y.value,footer:null,onCancel:L},{default:()=>[s("img",{src:b.value,style:"width: 100%"},null)]})]})]})]})}});export{b as default};
