import{d as e,l as t,ch as l,c as d,eF as i}from"./index-A-ZQTZn8.js";import{P as a}from"./PageWrapper-w2337QV-.js";import{C as n}from"./index-K-7oP10n.js";import{R as o,C as r}from"./index-tb0LfGLt.js";import{T as s}from"./index-l9QTTGEv.js";import"./isMobile-aGnBD7or.js";import"./useMergedState-851RxE2J.js";import"./index-qeOjnFsQ.js";import"./List-8dJinh3D.js";import"./index-ed9OLqQL.js";const p=[{key:"1-0",title:"一级 1",children:[{key:"1-1",title:"二级 1-1",children:[{key:"1-1-1",title:"三级 1-1-1"},{key:"1-1-2",title:"三级 1-1-2"}]}]},{key:"2-0",title:"一级 2",children:[{key:"2-1",title:"二级 2-1"},{key:"2-2",title:"二级 2-2",disabled:!0}]},{key:"3-0",title:"一级 3",children:[{key:"3-1",title:"二级 3-1"},{key:"3-2",title:"二级 3-2",children:[{key:"3-2-1",title:"三级 3-2-1",disableCheckbox:!0},{key:"3-2-2",title:"三级 3-2-2"},{key:"3-2-3",title:"三级 3-2-3"}]}]}],c=e({name:"AntdTree",setup(){const e=t(["2-1","3-2-2"]),c=t([]),u=t([]),h=t(l(p)),y=t([{title:"Expand to load",key:"0"},{title:"Expand to load",key:"1"},{title:"Tree Node",key:"2",isLeaf:!0}]);function k(e){return new Promise((t=>{e.dataRef.children?t():setTimeout((()=>{e.dataRef.children=[{title:"Child Node",key:`${e.eventKey}-0`},{title:"Child Node",key:`${e.eventKey}-1`}],y.value=[...y.value],t()}),1e3)}))}function f(e){var t;const l=e.node.key,d=e.dragNode.key,i=null==(t=e.node.pos)?void 0:t.split("-"),a=e.dropPosition-Number(i[i.length-1]),n=(e=[],t,l)=>{e.forEach(((d,i)=>d.key===t?l(d,i,e):d.children?n(d.children,t,l):void 0))},o=[...h.value];let r;if(n(o,d,((e,t,l=[])=>{l.splice(t,1),r=e})),e.dropToGap)if((e.node.children||[]).length>0&&e.node.expanded&&1===a)n(o,l,(e=>{e.children=e.children||[],e.children.unshift(r)}));else{let e=[],t=0;n(o,l,((l,d,i)=>{e=i,t=d})),-1===a?e.splice(t,0,r):e.splice(t+1,0,r)}else n(o,l,(e=>{e.children=e.children||[],e.children.unshift(r)}));h.value=o}return()=>d(a,{plugin:i},{default:()=>[d(o,{gutter:12},{default:()=>[d(r,{span:8},{default:()=>[d(n,{title:"可选择节点",bodyStyle:{height:"420px"}},{default:()=>[d(s,{checkedKeys:e.value,"onUpdate:checkedKeys":t=>e.value=t,treeData:p,checkable:!0,defaultExpandAll:!0},null)]})]}),d(r,{span:8},{default:()=>[d(n,{title:"懒加载节点",bodyStyle:{height:"420px"}},{default:()=>[d(s,{expandedKeys:c.value,"onUpdate:expandedKeys":e=>c.value=e,selectedKeys:u.value,"onUpdate:selectedKeys":e=>u.value=e,checkable:!0,treeData:y.value,loadData:k},null)]})]}),d(r,{span:8},{default:()=>[d(n,{title:"可拖拽节点",bodyStyle:{height:"420px"}},{default:()=>[d(s,{treeData:h.value,draggable:!0,blockNode:!0,defaultExpandAll:!0,onDrop:f},null)]})]})]})]})}});export{c as default};
